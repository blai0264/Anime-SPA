const app = {
    URL: '',
    DATA: {
        anime: [
            {
                show_id: 0,
                name: "Naruto",
                cover_art: "img/naruto.jpg",
                desc: ["The Village Hidden in the Leaves is home to the stealthiest ninja in the land. But twelve years earlier, a fearsome Nine-tailed Fox terrorized the village before it was subdued and its spirit sealed within the body of a baby boy. Now that boy, Naruto, has grown up to become a hyperactive ninja-in-training who's more interested in pranks than schoolwork...but Naruto is determined to become the greatest ninja ever!"],
                charDescription: ["Naruto Uzumaki is a shinobi of Konohagakure and a descendant of the Uzumaki clan. He had a demon Nine-Tails Fox sealed inside of him on the dsay of his birth, a fate that caused him to be shunned by most of Konoha throughout his childhood. After joining Team Kakashi, Naruto worked hard to gain the village's acknowledgement all the while chasing his dream to become Hokage (The strongest ninja in the world).", "Kakashi Hatake is a shinobi of Konohagakure's Hatake clan. Famed as Kakashi of the Sharingan, he is one of Konoha's most talented ninja; regularly looked to for advice and leadership despite his personal dislike of responsibility. To his students on Team 7, Kakashi teaches the importance of teamwork, a lesson he received, along with the Sharingan, from his childhood friend, Obito Uchiha. After the Fourth Shinobi World War, Kakashi becomes Konoha's Sixth Hokage.", "Sasuke Uchiha is one of the last surviving members of Konohagakure's Uchiha clan. After his older brother, Itachi, slaughtered their clan, Sasuke made it his mission in life to avenge them by killing Itachi. He is added to Team 7 upon becoming a ninja and, through competition with his rival and best friend, Naruto Uzumaki, Sasuke starts developing his skills. Dissatisfied with his progress, he defects from Konoha so that he can acquire the strength needed to exact his revenge. After learning the truth of his brother's sacrifice and later proving instrumental in ending the Fourth Shinobi World War and being happily redeemed by Naruto, Sasuke decides to return to Konoha and dedicates his life to help protect the village and its inhabitants."],
                characters: ["Naruto", "Kakashi", "Sasuke"],
                charPics: ["img/naruto1.png", "img/kakashi.jpg", "img/sasuke.png"]
         },
            {
                show_id: 1,
                name: "Bleach",
                cover_art: "img/bleach.jpg",
                desc: "BLEACH follows the story of Ichigo Kurosaki. For as long as he can remember, Ichigo Kurosaki has been able to see ghosts. But when he meets Rukia, a Soul Reaper who battles evil spirits known as Hollows, he finds his life is changed forever. Now, with a newfound wealth of spiritual energy, Ichigo discovers his true calling: to protect the living and the dead from evil. And when he vows to defend Rukia from the ruthless justice of the Soul Society, he and his friends must cross over and do battle in the spirit world...",
                charDescription: ["Ichigo Kurosaki is the main protagonist of the series Bleach, who receives Soul Reaper powers after befriending Rukia Kuchiki, the Soul Reaper assigned to patrol around the fictional city of Karakura Town. These powers come at the cost of Rukia's own, and as a result, Ichigo concedes to work as Rukia's stand-in, fighting to protect people from evil spirits called Hollows and sending good spirits, wholes, to a dimension known as the Soul Society.", " Rukia is a Shinigami in the 13th division of the Gotei 13, whom during her time training to become a Shinigami was adopted into the Kuchiki clan. She becomes a pivitol character through introducing Ichigo Kurosaki to the spirit realm. Her weapon is called Sode no Shirayuki.  She is best friends with Renji Abarai and Ichigo Kurosaki. Her mentor was Kaien Shiba, the former lieutenant of the 13thz Division.", "Renji Abarai initially dedicates his life to defeating Ichigo Kurosaki, the protagonist of the series, before joining forces with him to rescue Rukia Kuchiki halfway through the Soul Society arc. He then becomes a major character and a consistent ally of Ichigo. His weapon is Zabimaru. (A sword that can morph into a massive dragon.)"],
                characters: ["Ichigo", "Rukia", "Renji"],
                charPics: ["img/ichigo.jpg", "img/rukia.png", "img/renji.jpg"]
        },
            {
                show_id: 2,
                name: "Death Note",
                cover_art: "img/deathnote.jpg",
                desc: "Light Yagami (Or Raito) is an ace student with great aspects who's bored out of his mind. One day he finds the Death Note a notebook held by a shinigami (Death God). The Death Note grants its user the ability to kill anyone whose face they have seen, by writing the victim's name in the notebook. With the Death Note in hand, Light decides to create a perfect world. A world without crime or criminals. However when criminals start dropping dead one by one, the authorites send the legendary detective L to track down the killer.",
                charDescription: ["Light Yagami is a bored young genius who finds a supernatural notebook called a Death Note which was dropped by the Shinigami Ryuk. Using the notebook, which allows its owner to kill anyone simply by knowing their name and face, Light becomes a serial-murderer known as Kira in an attempt to create and rule a utopia cleansed of criminals, with him at the helm as its 'God'. Even though he originally plans to do good, he quickly gets drunk off his power and becomes a sinister murderer with no moral code.", "L is a world-renowned detective, and the main enemy of the protagonist Light Yagami. L takes on the challenge of catching the mass murderer known as Kira. In his investigation, L becomes suspicious of Light Yagami and makes it his goal to prove that Light is Kira. (The person behind all the murders)", "Ryuk is a Shinigami who indirectly gives Light Yagami a Death Note. Ryuk is bored with the Shinigami Realm. In an effort to amuse himself, he steals a second Death Note and drops it into the Human World for someone to find. This Death Note is discovered by Light, who uses it in an attempt to rid the world of evil and injustice, satisfying Ryuk's need for entertainment."],
                characters: ["Light", "L", "Ryuk"],
                charPics: ["img/light.jpg", "img/l.jpg", "img/ryuk.jpg"]
        },
            {
                show_id: 3,
                name: "Tokyo Ghoul",
                cover_art: "img/tokyoghoul.jpg",
                desc: "Tokyo has become a cruel and merciless city—a place where vicious creatures called “ghouls” exist alongside humans. The citizens of this once great metropolis live in constant fear of these bloodthirsty savages and their thirst for human flesh. However, the greatest threat these ghouls pose is their dangerous ability to masquerade as humans and blend in with society. Tokyo Ghoul follows Ken Kaneki, a shy, bookish college student, who is instantly drawn to Rize Kamishiro, an avid reader like himself. However, Rize is not exactly who she seems, and this unfortunate meeting pushes Kaneki into the dark depths of the ghouls' inhuman world. In a twist of fate, Kaneki is saved by the enigmatic waitress Touka Kirishima, and thus begins his new, secret life as a half-ghoul/half-human who must find a way to integrate into both societies.",
                charDescription: ["Kaneki is the main protagonist of Tokyo Ghoul and Tokyo Ghoul:re. Formerly, he was a human studying Japanese Literature at Kamii University, living a relatively normal life. However, this soon changed after Rize Kamishiro's kakuhou was transplanted into him, transforming him into a one-eyed ghoul. After joining Anteiku as a part-time waiter, he learned how to live as a ghoul and eventually became known as Eyepatch, one of the most powerful ghouls in the series.", "Rize Kamishiro is a ghoul who escaped from the organization V, and the foster daughter of Matasaka Kamishiro. She is known under her nickname Binge Eater. Because of her eating habits, Rize was a threat to most ghouls in various wards in Tokyo. She is the donor of the kakuhous that were in the transplant surgery used to transform Ken Kaneki into a ghoul.", "Touka Kirishima is a ghoul and an ex-waitress at Anteiku. She wears a rabbit mask while hunting, earning her the alias Rabbit. In Tokyo Ghoul, she was a second-year student at Kiyomi High School and later a third-year after the post-Aogiri timeskip. Two years after the Owl Suppression Operation, she returns as the Manager of the coffee shop :re. Following its destruction she joins the newly formed organization Goat, thus relocating to the 24th ward along with its other members."],
                characters: ["Kaneki", "Rize", "Touka"],
                charPics: ["img/kaneki.jpg", "img/rize.gif", "img/touka.jpg"]
        },
            {
                show_id: 4,
                name: "Basilisk",
                cover_art: "img/basilisk.jpg",
                desc: "For centuries, the Iga and Kouga ninja clans have engaged in a bitter war. But when a ceasefire is ordered by the powerful warlord Ieyasu Tokugawa, the two clans are forced to put down their arms. Years later, Gennosuke Kouga, heir of the Kouga clan, and Oboro Iga, heir of the Iga clan, have fallen in love. Through marriage, both heirs aim to bring peace to the clans. But their hopes are dashed when flames of rivalry between their clans are reignited, and they are dragged into another war. Ieyasu's two grandsons have both claimed to be the next heir to the shogunate. To resolve this dispute, both the Kouga and Iga are ordered to send their 10 best warriors to fight in a bloody battle royale, with each clan representing one of the potential shogunate heirs. Two scrolls with the names of the fighters are given and are to be marked in blood upon the given fighter's death. The prize for winning is the favor of the Tokugawa shogunate for a thousand years. Torn between their love for each other and duty to their clans, Gennosuke and Oboro must ultimately decide the fate of their clans.",
                charDescription: ["Erroneously humbling himself before the Iga (the enemy clan in which his clan has been at war with for hundreds of years) Gennosuke is the very definition of honorable. In hopes of winning their admiration for the sake of his betrothed, Oboro, he will do anything to ensure their matrimony. While Gennosuke tries to break the long-lasting hateful tradition and welcome the Iga as family, they plot against him, picking off his clansmen one by one. Well loved by the Kouga, Gennosuke is feared greatly by his enemies. He is thought to be so powerful that the Iga avoid direct confrontation with him at all costs. This fear is greatly justified for he possesses the ultimate doujutsu technique, taught by his master Hyoma. This technique allows him to kill by simply looking someones eyes.", "Yashamaru is a member of the Iga Tsubagakure clan and one of the ten ninja picked by Ogen to participate in the battle against the Kouga. He is engaged/Fiance to fellow Iga ninja Hotarubi. Yashamaru's 'black ropes' are garrote wires woven from the hair of young women and alchemically treated with natural oils harvested from wild animals, which gives them the consistency of steel. He ties them around his forearms and he also keeps some around his calves to use if his hands are immobilized. He uses the wires as an extension of his own body, able to tie up opponents, flay them, or use the strands to pierce like needles.", "Tenzen Yakushiji is a member of the Iga Tsubagakure clan and one of the ten ninja picked by Ogen to participate in the war against the Kouga. He is second-in-command after Ogen and is able to wrestle control of the Iga away from Oboro following Ogen's death to become Iga's de facto leader. Tenzen is a sadistic and mendacious individual who revels in conflict and bloodshed. He fights with a brutal, ruthless tenacity and won't hesitate to involve innocent bystanders to guarantee a victory. He is the main antagonist of the series."],
                characters: ["Gennosuke", "Yashamaru", "Tenzen"],
                charPics: ["img/gennosuke.jpg", "img/yashamaru.jpg", "img/tenzen.png"]
         },
            {
                show_id: 5,
                name: "Berserk",
                cover_art: "img/berserk.jpg",
                desc: "Born from the corpse of his mother, a young mercenary known only as Guts, embraces the battlefield as his only means of survival. Day in and day out, putting his life on the line just to make enough to get by, he moves from one bloodshed to the next. After a run-in with the Band of the Hawk, a formidable troop of mercenaries, Guts is recruited by their charismatic leader Griffith, nicknamed the 'White Hawk.' As he quickly climbed the ranks in order to become the head of the offensive faction, Guts proves to be a mighty addition to Griffith's force, taking Midland by storm. However, while the band's quest for recognition continues, Guts slowly realizes that the world is not as black-and-white as he once assumed. Set in the medieval era, Kenpuu Denki Berserk is a dark, gritty tale that follows one man's struggle to find his own path, while supporting another's lust for power, and the unimaginable tragedy that begins to turn the wheels of fate.",
                charDescription: ["Guts, renowned by his epithet the 'Black Swordsman', is a former mercenary and branded wanderer who travels the world in constant internal struggle between pursuing his own ends and protecting those dear to him. At one time driven solely by his will to survive, Guts finds purpose in life upon joining the Band of the Hawk, a group of sellswords, greatly helping in the faction's storied successes during the Hundred-Year War as the Hawk's Raiders Captain. He eventually becomes dissatisfied with clinging on to Griffith's dream, and departs from the Hawks in pursuit of his own. Griffith loathes him for this and this sparks their eternal battle which takes place throughout the course of the series.", "With the momentous desertion of his most trusted confidant Guts, Griffith enters a state of extreme invalidity and undying desire to obtain his own kingdom, which compels him to sacrifice his comrades for kinsmanship with the God Hand (A group of powerful demons) as their fifth member Femto – a demonic, idealized version of himself stripped of his empathy and human inhibitions. He vows to use his power to find and kill Guts no matter what the cost.", "Casca is a former unit commander of the Band of the Falcon and an estranged companion of Guts. Originally a callow peasant girl living in a remote mountain village, she develops into a well-attuned warrior upon joining the Band of the Hawk and aids greatly in the group's storied successes during the Hundred-Year War. Following Guts' departure and Griffith's subsequent imprisonment, she is forced to assume position as the band's leader, succeeding in preventing the complete annihilation of the Hawks and rescuing Griffith from the Tower of Rebirth."],
                characters: ["Guts", "Griffith", "Casca"],
                charPics: ["img/guts.png", "img/griffith.png", "img/casca.jpg"]
        },
            {
                show_id: 6,
                name: "Soul Eater",
                cover_art: "img/souleater.jpg",
                desc: "Death City is home to the famous Death Weapon Meister Academy, a technical academy headed by the Shinigami—Lord Death himself. Its mission: to raise 'Death Scythes' for the Shinigami to wield against the many evils of their fantastical world. These Death Scythes, however, are not made from physical weapons; rather, they are born from human hybrids who have the ability to transform their bodies into Demon Weapons, and only after they have consumed the souls of 99 evil beings and one witch's soul. ",
                charDescription: ["Soul 'Eater' Evans, is a Demon Weapon who was part of the Evans, a family of famous musicians. After discovering his weapon abilities, Soul joined DWMA where he partnered with the scythe meister Maka Albarn. Soul later became a student in the E.A.T. Class where he became known as the 'Demon Scythe.' He nearly became a Death Scythe after he and Maka collected 99 Kishin souls but failed to capture a witch's soul, requiring him to start over with his task. He is one of the main protagonists in Soul Eater", "Maka Albarn is a Scythe-Meister and the daughter of Spirit Albarn and his ex-wife. After witnessing her father cheating, she was inspired by her mother and she became determined to follow in her footsteps and became a Meister. Maka partnered up with the 'Demon Scythe' Soul Eater, in an attempt to create a Death Scythe more powerful then her father. She is currently a Two-Star Meister, a Death Scythe Meister, and formerly a member of Spartoi. She stands out as the lead protagonist of the Soul Eater series.", "Black Star is an assassin, Shadow Weapon Meister, and the last survivor of the infamous Star Clan. However, was taken in the DWMA and raised by Sid Barrett. In the DWMA, his weapon partner is Tsubaki Nakatsukasa, he is one of the top three students in the academy as well as a former member of Spartoi, and he later masters the Path of the Warrior to the point he is considered a 'Warrior God'. He is also one of the main protagonists of the series."],
                characters: ["Soul", "Maka", "Black Star"],
                charPics: ["img/soul.jpg", "img/maka.jpg", "img/blackstar.gif"]
        },
            {
                show_id: 7,
                name: "One Piece",
                cover_art: "img/onepiece.png",
                desc: "Gol D. Roger was known as the 'Pirate King', the strongest and most infamous being to have sailed the Grand Line. The capture and death of Roger by the World Government brought a change throughout the world. His last words before his death revealed the existence of the greatest treasure in the world, One Piece. It was this revelation that brought about the Grand Age of Pirates, men who dreamed of finding One Piece—which promises an unlimited amount of riches and fame—and quite possibly the pinnacle of glory and the title of the Pirate King.",
                charDescription: ["Monkey D. Luffy, also known as 'Straw Hat Luffy', is the main protagonist of the manga and anime, One Piece. He is the son of the Revolutionary leader Monkey D. Dragon, the paternal grandson of the Marine hero Monkey D. Garp, the sworn brother of late 'Fire Fist' Portgas D. Ace and Revolutionary chief of staff Sabo, and the foster son of Curly Dadan. Luffy is a pirate and his lifelong dream is to become the Pirate King by finding the legendary treasure left behind by the late Pirate King, Gol D. Roger. He believes that being Pirate King means having the most freedom in the world. He has eaten the Gomu Gomu no Mi, which gives the consumer's body the properties of rubber. As the founder and captain of the Straw Hat Pirates, he is the first member of the crew, as well as one of its top three fighters.", "Roronoa Zoro, also known as 'Pirate Hunter' Zoro, is a pirate and a former bounty hunter.He was the first member to join the Straw Hat Pirates, and, to date, is considered the largest threat and most dangerous member in the crew after Luffy. His fame as a master swordsman and his great strength, along with the actions of his captain, sometimes led others to believe he was the true captain of the crew. He is one of the top three fighters in the crew alongside Luffy and Sanji, and his dream is to become the greatest swordsman in the world. Zoro is also regarded as one of twelve pirates who are referred to as the 'Worst Generation'. He currently has a bounty of Beli 320,000,000.", "'Cat Burglar' Nami is a pirate and the navigator of the Straw Hat Pirates. She was the third member of the crew and the second to join, doing so during the Orange Town Arc. She was formerly a member of the Arlong Pirates and initially joined the Straw Hats in order to rob them for her real crew, but joined the Straw Hats for real after they rebelled against and defeated Arlong. She currently has a bounty of Beli 66,000,000."],
                characters: ["Luffy", "Zoro", "Nami"],
                charPics: ["img/luffy.jpg", "img/zoro.png", "img/nami.jpg"]
        }
    ]
    },
    init: function () {
        //fetch the data
        app.loadHome(app.DATA.anime);
        //add event listeners 
        app.addListeners();
        //fix the current url
        history.replaceState({}, "List", "#list");
        document.title = 'Animes';
    },

    loadHome: function (anime) {
        window.scrollTo(0, 0);
        let section = document.querySelector('.content');
        let df = document.createDocumentFragment();
        anime.forEach(show => {
            let div = document.createElement('div');
            div.classList.add('item-card');
            let h2 = document.createElement('h2');
            let p = document.createElement('p');
            let img = document.createElement('img');
            img.className = 'icon';
            img.setAttribute("src", show.cover_art);
            img.setAttribute("alt", "logo");
            p.className = 'item-desc';
            p.textContent = show.desc;
            h2.textContent = show.name;
            h2.className = 'item-title';
            h2.setAttribute('data-key', show.show_id);
            //h2.addEventListener('click', app.showDetails); //called by navDetails
            h2.addEventListener('click', app.navDetails);
            div.appendChild(img);
            div.appendChild(h2);
            div.appendChild(p);
            df.appendChild(div);
        });
        section.appendChild(df);
    },
    addListeners: function () {
        //back button on second page
        let backBtn = document.querySelector('#details-page header a');
        backBtn.addEventListener('click', app.backHome);
        //listen for the browser back button
        window.addEventListener('popstate', app.browserBack);
    },
    /*** getData: function(){
         //fetch the JSON data
         //fetch()
         //.then()
         //.then(
             //save the imported JSON into app.DATA
             //pass the data to a function that builds the first page  
             app.showThings();
         //).catch();
     },
     showThings: function(){
         //loop through the array and display the cards
         //add the click listener on each title
         let titles = document.querySelectorAll('#list-page .item-title');
         [].forEach.call(titles, (h2)=>{
             h2.addEventListener('click', app.navDetails);
         });
     }, ***/

    navDetails: function (ev) {
        ev.preventDefault();
        window.scrollTo(0, 0);
        let h2 = ev.currentTarget;
        //extract the id from the heading
        let id = h2.getAttribute('data-key');
        //change the url and save the id in the history.state
//        console.log(`#details/${id}`);
        history.pushState({
            "id": id
        }, "Details", `#details/${h2.textContent}`);
        document.title = h2.textContent //`Details for Item ${id}`;
        //get the info about this item
        //pass it to a function to display those details
        app.showDetails(ev);
    },

    showDetails: function (ev) {
        let showID = ev.currentTarget.getAttribute('data-key');
        document.getElementById('list-page').classList.remove('active');
        document.getElementById('details-page').classList.add('active');
        let activeShow = app.getItem(showID);
        let section = document.querySelector('.content2');
        section.innerHTML = ""; //clear old list
        
        
        let header = document.createElement('header');
        let h1 = document.createElement('h1');
        let a = document.createElement('a');
        h1.textContent = "Characters";
        h1.setAttribute('id', 'detailheader');
        h1.appendChild(a);
        header.appendChild(h1);
        a.setAttribute('href', '#');
        a.className = 'back-btn';
        a.textContent = '<<';
        a.addEventListener('click', app.backHome);
        section.appendChild(header);
        
        
        let char1title = document.createElement('h2');
        let char1desc = document.createElement('p');
        let char1span = document.createElement('span');
        let char1divParent = document.createElement('div');
        let char1figure = document.createElement('figure');
        let char1divDesc = document.createElement('div');
        let char1img = document.createElement('img');
        let char1hr = document.createElement('hr');
        char1img.setAttribute("src", activeShow.charPics[0]);
        char1divParent.className = 'parent-div';
        char1title.textContent = activeShow.characters[0];
        char1title.className = "char-name";
        char1figure.className = "img-div";
        char1divDesc.className = 'item-card2';
        char1desc.className = 'item-desc2';
        char1desc.textContent = activeShow.charDescription[0];
        char1span.appendChild(char1title);
        char1figure.appendChild(char1img);
        char1divDesc.appendChild(char1desc);
        char1divParent.appendChild(char1divDesc)
        section.appendChild(char1span);
        section.appendChild(char1figure);
        section.appendChild(char1divParent);
        section.appendChild(char1hr);
        
        
        
        
        let char2title = document.createElement('h2');
        let char2desc = document.createElement('p');
        let char2span = document.createElement('span');
        let char2divParent = document.createElement('div');
        let char2figure = document.createElement('figure');
        let char2divDesc = document.createElement('div');
        let char2img = document.createElement('img');
        let char2hr = document.createElement('hr');
        char2img.setAttribute("src", activeShow.charPics[1]);
        char2divParent.className = 'parent-div';
        char2title.textContent = activeShow.characters[1];
        char2title.className = "char-name";
        char2figure.className = "img-div";
        char2divDesc.className = 'item-card2';
        char2desc.className = 'item-desc2';
        char2desc.textContent = activeShow.charDescription[1];
        char2span.appendChild(char2title);
        char2figure.appendChild(char2img);
        char2divDesc.appendChild(char2desc);
        char2divParent.appendChild(char2divDesc)
        section.appendChild(char2span);
        section.appendChild(char2figure);
        section.appendChild(char2divParent);
        section.appendChild(char2hr);


        let char3title = document.createElement('h2');
        let char3desc = document.createElement('p');
        let char3span = document.createElement('span');
        let char3divParent = document.createElement('div');
        let char3figure = document.createElement('figure');
        let char3divDesc = document.createElement('div');
        let char3img = document.createElement('img');
        let char3hr = document.createElement('hr');
        char3img.setAttribute("src", activeShow.charPics[2]);
        char3divParent.className = 'parent-div';
        char3title.textContent = activeShow.characters[2];
        char3title.className = "char-name";
        char3figure.className = "img-div";
        char3divDesc.className = 'item-card2';
        char3desc.className = 'item-desc2';
        char3desc.textContent = activeShow.charDescription[2];
        char3span.appendChild(char3title);  
        char3figure.appendChild(char3img);
        char3divDesc.appendChild(char3desc);
        char3divParent.appendChild(char3divDesc)
        section.appendChild(char3span);
        section.appendChild(char3figure);
        section.appendChild(char3divParent);
        section.appendChild(char3hr)
    },

    getItem: function (id) {
        //retrieve an object from our JSON data
        //where the id matches the one passed to this function
        //dummy data for demonstration purposes
        let activeShow;
        app.DATA.anime.forEach(show => {
            if (show.show_id == id) {
                activeShow = show;
            }
        });
        return activeShow;

    },
    backHome: function (ev) {
        if (ev) {
            ev.preventDefault();
            //only add to the pushState if the user click OUR back button
            //don't do this for the browser back button
            history.pushState({}, "List", `#list`);
            document.title = 'Animes';
        }
        document.getElementById('list-page').classList.add('active');
        document.getElementById('details-page').classList.remove('active');
    },
    browserBack: function (ev) {
//        console.log('user hit the browser back button');
        //the browser will change the location hash.
        //use the updated location.hash to display the proper page
        if (location.hash == '#list') {
//            console.log('show the list page');
            //we want to show the list page
            app.backHome();
            //NOT passing the new MouseEvent('click')
        } else {
            document.getElementById('list-page').classList.remove('active');
            document.getElementById('details-page').classList.add('active');
            //we want to display the details
//            console.log('show the details');
            let id = location.hash.replace("#details/", "");
            //use the id number from the hash to fetch the proper data
            //            let obj = app.getItem(id);
            //            //pass it to a function to display those details
            //            app.showDetails(obj);
        }
    }
}

let loadEvent = ('deviceready' in document) ? 'deviceready' : 'DOMContentLoaded';
document.addEventListener(loadEvent, app.init);
